/*! bufollow 2015-07-17 */

!function(){"use strict";angular.module("app",["ngRoute","ngCookies"]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{controller:"HomeController",templateUrl:"/views/home.html",controllerAs:"vm"}).when("/login",{controller:"LoginController",templateUrl:"/views/login.html",controllerAs:"vm"}).when("/register",{controller:"RegisterController",templateUrl:"/views/register.html",controllerAs:"vm"}).otherwise({redirectTo:"/login"})}]).run(["$rootScope","$location","$cookieStore","$http",function(a,b,c,d){a.globals=c.get("globals")||{},a.globals.currentUser&&(d.defaults.headers.common.Authorization="Basic "+a.globals.currentUser.authdata),a.$on("$locationChangeStart",function(c,d,e){var f,g=b.path();f="/login"!==g&&"/register"!==g;var h=a.globals.currentUser;f&&!h&&b.path("/login")})}])}(),function(){"use strict";function a(a,b){function c(){}this.user=null,c()}angular.module("app").controller("HomeController",a),a.$inject=["UserService","$rootScope"]}(),function(){"use strict";angular.module("app").controller("LoginController",["$location","ConnectService",function(a,b){!function(){b.logout()}(),this.login=function(){b.login(this.name,this.password,function(b){b.success&&a.path("/")})}}])}(),function(){"use strict";function a(a,b,c,d){function e(){f.dataLoading=!0,a.Create(f.user).then(function(a){a.success?(d.Success("Registration successful",!0),b.path("/login")):(d.Error(a.message),f.dataLoading=!1)})}var f=this;f.register=e}angular.module("app").controller("RegisterController",a),a.$inject=["UserService","$location","$rootScope","FlashService"]}(),function(){"use strict";angular.module("app").factory("ConnectService",["$http","$cookieStore","$rootScope","$timeout","UserService",function(b,c,d,e,f){return{login:function(e,f,g){var h=a.encode(e+":"+f);d.globals.currentUser={userName:e,userData:h},b.defaults.headers.common.Authorization="Basic "+h,c.put("globals",d.globals),g.call(this,{success:!0})},logout:function(){d.globals={},c.remove("globals"),b.defaults.headers.common.Authorization="Basic "}}}]);var a={keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var b,c,d,e,f,g='""',h='""',i='""',j=0;do b=a.charCodeAt(j++),c=a.charCodeAt(j++),h=a.charCodeAt(j++),d=b>>2,e=(3&b)<<4|c>>4,f=(15&c)<<2|h>>6,i=63&h,isNaN(c)?f=i=64:isNaN(h)&&(i=64),g=g+this.keyStr.charAt(d)+this.keyStr.charAt(e)+this.keyStr.charAt(f)+this.keyStr.charAt(i),b=c=h='""',d=e=f=i="";while(j<a.length);return g},decode:function(a){var b,c,d,e,f,g="",h="",i="",j=0,k=/[^A-Za-z0-9\+\/\=]/g;k.exec(a)&&window.alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");do d=this.keyStr.indexOf(a.charAt(j++)),e=this.keyStr.indexOf(a.charAt(j++)),f=this.keyStr.indexOf(a.charAt(j++)),i=this.keyStr.indexOf(a.charAt(j++)),b=d<<2|e>>4,c=(15&e)<<4|f>>2,h=(3&f)<<6|i,g+=String.fromCharCode(b),64!=f&&(g+=String.fromCharCode(c)),64!=i&&(g+=String.fromCharCode(h)),b=c=h="",d=e=f=i="";while(j<a.length);return g}}}(),function(){"use strict";angular.module("app").factory("UserService",["$http",function(a){var b={};return b}])}();
//# sourceMappingURL=bufollow.min.js.map